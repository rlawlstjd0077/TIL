# 4부: 스프링 부트 활용

- 스프링 부트가 제공하는 여러 기능을 사용하며 원하는대로 커스터마이징 하는 방법을 학습합니다.

## 스프링 부트 활용 소개

- 스프링 부트 핵심 기능
  - SpringApplication
  - 외부 설정
  - 프로파일
  - 로깅
  - 테스트
  - Spring-Dev-Tools
- 각종 기술 연동
  - 스프링 웹 MVC
  - 스프링 데이터
  - 스프링 시큐리티
  - REST API 클라이언트
  - 다루지 않은 내용들

## SpringApplication 1부

- 기본 로그 레벨은 INFO임
  - VM Options을 `-Ddebug` 를 하거나 Parameter argument `--debug` 라고 적어주면 디버그 모드로 동작을 함 
  - 디버그 레벨로 찍히는 로그를 볼 수 있음
  - 어떠한 자동설정이 적용이 됬는지 어떠한 자동설정이 왜 적용이 안됬는지를 확인할 수 있음

- FailureAnalyzers
  - 애플리케이션 에러가 났을 때 좀더 이쁘게 출력을 해주는 기능
- 배너
  - `src/resources` 하위에 banner.txt | gif | jpg | png 사용 가능
  - 배너에 사용할수 있는 변수들 목록: https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-banner
  - `classpath` 또는 `spring.banner.location`로 변경 가능
  - Banner 클래스 구현하고 SpringApplication.setBanner()로 설정 가능.
    - 배너 끌 수도 있음
- SpringApplicationBuilder로 빌더 패턴으로 사용도 가능함
  - `SpringApplication.run()`을 쓰는 방법은 커스터마이징을 할 수 있는 방법이 없음

## SpringApplication 2부

- ApplicationListsner라는 인터페이스를 통해서 Application의 여러가지 Event에 리스너를 달아줄 수가 있다.

  - 그러나, ApplicationContext가 생성되기 이전의 Event의 경우 Bean으로 등록되지 않아서 직접등록을 해줘야함

    ```java
    //이렇게 실행 부분에 달아줘야 한다.
    SpringApplication app = new SpringApplication(SpringApplication.class);
    app.addListener(new SampleListener());
    app.run(args);
    ```

- WebApplication Type설정
  - Spring MVC가 있다면 기본적으로 SERVLET으로 실행됨 (SERVLET이 가장 우선임)
  - Spring WebFlux만 있다면 REACTIVE로 실행됨 
  - 전부 없다면 NONE으로 설정됨
- ApplicationAguments 설정 방법
  - Intelij에서 Program Arguments에 `--옵션명`으로 설정해주면 ApplicationArgument를 빈으로 주입받으면 확인이 가능함
    - VM Option은 적용되지 않음
- 애플리케이션을 실행한 후에 뭔가를 실행하고 싶을 때
  - ApplicationRunner(추천), ComandLineRunner

